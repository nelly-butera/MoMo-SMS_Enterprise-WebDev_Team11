{
  "project_info": {
    "title": "MoMo SMS System API Examples",
    "notes": "this file explains how we map our db tables to json objects for week 2"
  },

  "core_entities": {
    "user": {
      "mapped_table": "users",
      "example": {
        "user_id": 1,
        "first_name": "John",
        "phone": "+250788123456",
        "type": "customer"
      }
    },
    "transaction_record": {
      "mapped_table": "transactions",
      "example": {
        "tx_ref": "TXN123",
        "amount": 5000.0,
        "fee": 50.0,
        "date": "2025-01-20T10:00:00Z"
      }
    }
  },

  "complex_transaction": {
    "comment": "Task 3 requirement: Nested object with all relations",
    "data": {
      "tx_id": 1,
      "reference": "TXN001",
      "amount": 50000.00,
      "category": { "name": "Transfer" },
      "participants": [
        { "role": "sender", "user": "John Mugisha" },
        { "role": "receiver", "user": "Sarah Uwamahoro" }
      ],
      "source_sms": {
        "sms_id": 10,
        "body_preview": "Sent 50000 to 788234567..."
      }
    }
  },

  "error_response_example": {
    "note": "How the system responds if the CHECK constraint in SQL fails",
    "example": {
      "success": false,
      "error_code": "INVALID_AMOUNT",
      "message": "Transaction amount cannot be negative.",
      "timestamp": "2025-01-20T11:00:00Z"
    }
  },

  "mapping_documentation": {
    "users": "user_id becomes userId. account_type is restricted to specific roles like in our sql check constraint.",
    "transactions": "amount and fee map to floats. we use decimal(12,2) in the database for accuracy.",
    "participants": "The junction table is converted to a list (array) of objects in the transaction json."
  }
}